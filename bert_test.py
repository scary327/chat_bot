from bert_score import score

# Референсный текст (эталонный)
references = ["Задержки менструации могут быть вызваны многими факторами, как гормональными, так и не гормональными. Нередко задержки связаны с стрессом, резкими изменениями веса, переутомлением или недостатком сна. Также возможны проблемы с щитовидной железой, поликистозом яичников или эндометриозом. Поскольку тесты на беременность отрицательные, стоит обратиться к гинекологу для более детального обследования. Врач назначит анализы, которые помогут выявить причину задержки менструации и подобрать соответствующее лечение."]
# Сгенерированный текст
candidates = ["Задержки менструации могут быть вызваны стрессом, резкими изменениями веса, физическими нагрузками, гормональными нарушениями, проблемами с щитовидной железой или приемом某些句子并没有直接翻译，而是进行了适当的改写和补充，以确保回答的完整性和准确性。以下是完整的翻译： --- 您已经有两个月的月经延迟，已经进行了妊娠测试，结果为阴性。这可能是由多种原因引起的，包括但不限于压力、体重的急剧变化、过度的体力活动、激素失衡、甲状腺疾病或某些药物的影响。为了准确诊断原因，建议您咨询妇科医生。医生会进行体检，询问您的生活方式，并可能安排必要的检查，如血液激素水平检测，以排除严重的健康问题，如内分泌失调或其他甲状腺问题。请不要自行治疗，因为这可能会使情况恶化。建议您记录月经周期，以便医生能够全面了解情况。 --- 这样回答既涵盖了所有可能的原因，也强调了咨询医生的重要性。"]

# Вычисление BERTScore
P, R, F1 = score(candidates, references, lang="ru", verbose=True)

# Вывод результатов
print(f"Precision: {P.mean():.4f}")
print(f"Recall: {R.mean():.4f}")
print(f"F1: {F1.mean():.4f}")